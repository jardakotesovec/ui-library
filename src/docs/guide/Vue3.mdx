import {Meta} from '@storybook/blocks';

<Meta title="Guide/Vue3" />

# Vue3

In version 3.5 we migrated our ui-library to new Vue3 version, which introduces new [Composition API](https://vuejs.org/guide/introduction.html#composition-api) as more flexible alternative to existing Options API.

## Composition API

Composition API builds on exactly same principles as the Options API that we are used to from Vue 2. State management still consist of **state** , **computed** properties and **methods** that are updating the **state**. Only the syntax is different.

It might take bit getting used to to new syntax, but it will reward us is with significantly better flexibility compared to mixins, which comes very handy in complex application like OJS/OPS/OMP.

Best learning source is Vue.js [documentation](https://vuejs.org/guide/introduction.html), where you can easily explore syntax differences between options API and composition API.

We follow Vue.js [recommendation](https://vuejs.org/guide/essentials/reactivity-fundamentals#limitations-of-reactive) to use exclusively `ref` to define reactive state and avoiding `reactive` API due its limits.

## Composables

Composables are replacements for mixins. More details to come about the composables that we provide instead of existing mixins. In general these will be useful to handle all common tasks, like interacting with API, translation or manupulating forms.

## Pinia Store

[Pinia store](https://pinia.vuejs.org) is part of the official Vue.js ecosystem.

Reason why we want to use it instead of just managing our state directly in the Page component, is that behind the scene its very extensible. This is likely be benefitial for plugins, that might need to amend, extend or intercept state&methods for custom behaviour. Later in 3.5 life cycle we provide example how to do that. In details its documented in [plugin section]([extending in runtime](https://pinia.vuejs.org/core-concepts/plugins.html)) on pinia website.

Benefit is that we use very much the same syntax (composition API) as we would use directly in the Vue.js component. Only additional step which is required is to handle life cycle of the store from the page component, as is illustrated in [Example Page](../?path=/story/pages-example--example-page-1). Its important to keep in mind that pinia stores are singletons, thats why we need to explicitely handle initialisation and clean up to follow Page Component life cycle.
