import {Meta} from '@storybook/blocks';

<Meta title="Guide/Translation" />

# Translation

## Development workflow

When `npm run build` or `npm run dev` is run, vite plugin will detect all uses of translation keys and saves them to `registry/uiLocaleKeysBackend.json`.

Translation key is detected, when composable/mixin `t` function is used. Check [useTranslation](../?path=/docs/composables-usetranslation--docs) composable for example.

<img
	src="guide/Translation/development_workflow.png"
	alt="Development workflow"
	style={{width: '400px', height: 'auto'}}
/>

## Development workflow for Storybook

Yet to be [introduced](https://github.com/pkp/pkp-lib/issues/9618).

## Runtime workflow

When page is being loaded, translations are fetched separately from the `/index.php/journal_name/api/v1/_i18n/ui.js` endpoint and made available to the Vue.js.

<img
	src="guide/Translation/runtime_workflow.png"
	alt="Runtime workflow"
	style={{width: '400px', height: 'auto'}}
/>
